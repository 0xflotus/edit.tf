<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" /> 
<script type="text/javascript" src="teletext-editor.js"></script>
<script type="text/javascript">
function init_frames() {

	// Create a new editor:
        var editor = new Editor();

	// Make it the active editor so it receives keypresses:
        active_editor = editor;

	// Also make it the editor which reads from and writes to the 
	// URL:
        url_editor = editor;

	// Initialise the editor, placing it in the canvas with HTML
	// ID 'frame'.
        editor.init_frame("frame");

	// You can also give the editor an encoded URL hash string to 
	// display/edit.
	if ( editor.is_all_spaces() ) { 

		// This is a welcome screen I made. It appears only 
		// when there would otherwise be a blank screen. Feel
		// free to replace it with your own creations for
		// people to see when they load up the editor!
		editor.load(pick_frame());
	}
}

function pick_frame() {
	var r = Math.random();
	var count = 3;
	if ( r < ( 1 / count ) ) { 
		return "#0:QIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECAi4Q4EyBAgQYEyBAgQIECBAgQIECBAgQIECBAgQIECBAgQEUDVBqQIECBBqQIECBAgLoECBAgQIMHDhgwYMHDggQIECBARQPfGrAsYPEmrAkQIECAugQIECBAw___-rVq1f_7VggQIEBFx19alXBL1ca1LBAgQIC6DUgQePPXf9______9_5fvlgg1EUCBAgQIEHDogQIMCBAgLoNSD1n58-PNX___3-Pjz5897DURQIECBAgQIGqBAg1IECAugRftWoigQF1KxYsWISKAvq1amxFA9YaMjToka6EDTUgQIC6BB_1aiOpRqaePnTQ1SNS-rVqakXHX1q4NWrjruTNdSBAgLoEG_VqI4tjd6r_p9294xL6tWpKRQNUCBAgQIECBA11IECAugQINeojq1Jd_D5wf6krUvq1IUBFApYB2TBi3QEXCFQgQIC6BAg1KuHDgwQIECBAg4cODrUgQIECBAgQIECBAgQIECBAgLoECBEuXr1-bJ8-fOmZcvXr0yBBg_f__RABZNcDJsgjZcS4ugQIECLf____vPnz8____-nQIECr___v0AGHl3dOWVBm38i6BBwcLFixYsWLFixYsWLFizJwQau3Pn-QIAMPft4demndnL4E2r___________________-DL23__-fggQAZGnn038vKwvv-umaNGjRo0aNGjRo0aNGjduf__6_8___0DDw7cXLTkz5S_13_7bPnTJ8-fPnz58-fPmZNg__8_7P__5_nRAgQIEAGrLL___bf9-fPnz58-PPOTJs-IfH9_5__fL_z___2qBAgQIECAvv__2v_OsWLFixZqcuXLv_9__-2___z5t___n_f-iBAgQIC_12_0tV69evXr161WmTJk2bPv__Xfn_9_v_OfN_foECBAgL_06DU1b8-fPnz58-fPnz56XLn___9t__P-_f_6dAgQIECADXioK8GdUQWZ9VCHlT5M5BVpoQMqfJnIKkiKgjValWlFQoAN0Po6dOHN0vX9MuzL0y-Oi3hh5dPK7zh4c9-Tyux79q8DbQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECA";
	}
	if ( r < ( 2 / count ) ) { 
		return "#0:QIECBAgQIIcWLGg2EDFgwQIKeHogZOEErDuQIGTF0wbr2LQsdLoECBAgwcECBAgQIECBAgQIECBAgQIECBAgQIECBAgQICx0ug4dfXDUga6kCBAgQNUCBAg1akbRAgQINCBAgQIECBAgLHS6Dh19cNSPTqwLGDhJ1SaHeDdqWIXDTQ41JMrVAgQIECAsdLoECVUgVLEypEsQqUiVSiWIlypAgUqVSBEkUIcCBAgQICx0ugDwd3lBj09NPrLuQZt_XdkQYenTLuyad2dB00ZUCBAgLHS6APUy7MvTL46A78LZvx6-GHl08h8PRB00ZQMPLu6csqAsdLoAObfyQQ9-3h16ad2dBI08-m_l5WIIeHbi5acmfKgQICx0ugD79wGNlxIGTVeybB--nZsQYsqDllydceXIg07kCBAgLHS6APz6YenXmgxeQNSvPQbMvbLs5h8O7Igzad2XIgQIECAsdLoALVgwQQd2fZvQRN-zZh5c1yBAgQIECBAgQIECBAgQICx0ugQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgLHS6APU0aeaDL2y7uiDvp2bEGTLt37ufTlh6ZUHTRlQIECAsdLoAOnZsy58OxBh3ZEGnbt38sOwP155UG_Mg6aMqBAgQICx0ugD8-mHplQdMuzL0y-OiDn559Mu1Bm38gOPl1yZUCBAgLHS6APl3dMvLph07tuXd0QYd2RBk08-eXbp3YemnfuQb8yAsdLoA_PHh3ZMOxBh3ZAOHd00refTD0yoOeXd007cu7ouQICx0ugQIMCBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECBAgLHS6BBg14UCBAgQIECBAgQIECBAgQIECBAgQIECBAgQIECAsdLoMWbnzzIP6_e0_L1-p_vaB6HXFs040CBAgQIECBAgQICx0ug0YXnDSg__PyH-gQamupqHh793Tlv2IECBAgQIECBAgLHS6DUoTONSD-gQIP6BBqa6moeJl4YeXTbl3dECBAgQIECAsdLoEClYsQoF6BAgVr16pevQg4KCRv25UE_Nm048qBAgQICx0ugQIECBAgQIECBAgQIECBADg58u7H5QIECBAgQIECBAgB3Q2jp04c3S9f0y7MvTL46LeGHl08rvOHhz35PK7Hv2rwds";
	}
	return "#0:CXQ2jp04c3S9f0y7MvTL46LeGHl08rvOHhz35PK7Hv2rwlsp____________________-_To0aNXv________________yn_-3UKmup-v3r17VLv__05fh8_9CiDW3Uan6_-v3oN-9f_Kf_7VUl6quqrUwXtdWr-hL_l6P-3LbSjXV_QMWur-w3rEH8p__t9bfW31t9bfW31t0Jf83wf_6Usi6lEf9H_R_0f9H_R_yn_________________L-n6DV__tC3hU1Kf____________Kf_______________7UujQcOfPnzLI1u0oi3__________8p_______________bl_D5OjRo0aNGj2lme0pr_________yn______________8v-wkeHz____PnAvpLKWJT_________Kf______________y-tkRRq169evRoy6Is4Kev________8p_______________6lyytYsWLFixYsT-UJT1__________yn_______________-X1MP-tk0QIC3jQ3KejoG6Gh5d3TllKf_______________7Uu11f_upAgLdf6Up_OhkCBAgQZt_IodA3Q7JqvZNin88cP_S-1V_a_kBZB9blPR0ND37eHXpp3Zyh0PGy4uXXDy8lP544fLouqv8ncFsD8ogOhkCBBI08-m_l5KHQzJgxboECAoe_nF59KWRKVq5Yux-PxRWdDw8O3Fy05M-Up_________r16Mtg4PPCFAWQIECBBj3tECAojX7_______yn______6ct4-fv_____9CytZ8-feH9OgQIEGv5wKI1e___Kf_____blle________-nwOMiAsiRoECBDkQIv7_f86FNf8p_____8v66Ft____fpy_hPlQIECBAgQIECHqWRf0CBW1Kfyn____tS6BX9LK_6cv4_f3qBCgQIECBAgQINf0tq-sEX8pqKf___-W1IC-__04eP_9-nLIPH_o4QIC6BAg_FtH__tQbymop____5b0gLoP_____r0Jb1_____96gLoEGhuW__078tqKIin____lv7Uug____9CWQfv_____vy6BAgwPy3r-XwNSypoUKf___-W__y-j__XoSyjf______OXQIEGD8W0f35f8gLIGpQ";
}
</script>
<title>edit-tf</title>
<style type="text/css">
body { 
	background-color: #222;
}
table#hints {
	margin-left: auto;
	margin-right: auto;
	border-collapse: collapse;
	border: 1px solid #353;
}
table#hints td, table#hints tr, table#hints th, div#export {
	color: #9b9;
	vertical-align: center; 
	text-align: center;
	font-family: sans-serif;
	line-height: 1.1;
	font-size: 12px;
}
div.exportbox {
	margin-bottom: 1em;
	background-color: #353;
	padding: 3px;
	border: 2px solid #9b9;
}
table#hints td, table#hints tr , table#hints th {
	border: 1px solid #353;
	-moz-user-select: -moz-none;
	-khtml-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none;    
}
td a, div#export a {
	color: inherit;
}
canvas {
	/* The canvas should have no padding */
	background-color: #000;
	margin: 0;
	cursor: crosshair;
	position:relative;
	z-index: 1;
}
div#canvasframe {
	padding: 5px 10px 5px 10px;
	background-color: #000;
	border-radius: 10px;
	-moz-border-radius: 10px;
	display: inline-block;
	}
tr.newsection {
	background-color: #353;
}
div#a {
	display: table;
	position: fixed;
	top: 0; left: 0;
	height: 100%;
	width: 100%;
	margin: 0;
	padding: 0;
	border-collapse: collapse;
}
div#b {
	display: table-cell;
	vertical-align: middle;
	text-align: center;
	padding: 0;
	margin: 0;
}
[onclick] {
	cursor: pointer;
}
</style>
<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/favicons/manifest.json">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#2d89ef">
<meta name="theme-color" content="#000000">
</head>
<body onload="init_frames();">

<div id="a"><div id="b">

<div id="export">
</div>
<table id="hints">
<tr class="newsection">
<td colspan="4">First press escape then the following:</td>
</tr>
<tr><td onclick="fakepress('r')">r</td><td onclick="fakepress('r')">red text</td>
	<td onclick="fakepress('R')">red graphics</td><td onclick="fakepress('R')">R</td></tr>
<tr><td onclick="fakepress('g')">g</td><td onclick="fakepress('g')">green text</td>
	<td onclick="fakepress('G')">green graphics</td><td onclick="fakepress('G')">G</td></tr>
<tr><td onclick="fakepress('y')">y</td><td onclick="fakepress('y')">yellow text</td>
	<td onclick="fakepress('Y')">yellow graphics</td><td onclick="fakepress('Y')">Y</td></tr>
<tr><td onclick="fakepress('b')">b</td><td onclick="fakepress('b')">blue text</td>
	<td onclick="fakepress('B')">blue graphics</td><td onclick="fakepress('B')">B</td></tr>
<tr><td onclick="fakepress('m')">m</td><td onclick="fakepress('m')">magenta text</td>
	<td onclick="fakepress('M')">magenta graphics</td><td onclick="fakepress('M')">M</td></tr>
<tr><td onclick="fakepress('c')">c</td><td onclick="fakepress('c')">cyan text</td>
	<td onclick="fakepress('C')">cyan graphics</td><td onclick="fakepress('C')">C</td></tr>
<tr><td onclick="fakepress('w')">w</td><td onclick="fakepress('w')">white text</td>
	<td onclick="fakepress('W')">white graphics</td><td onclick="fakepress('W')">W</td></tr>
<tr><td onclick="fakepress('z')">a</td><td onclick="fakepress('a')">ignore black fg</td>
	<td onclick="fakepress('A')">allow black fg</td><td onclick="fakepress('A')">A</td></tr>
<tr><td onclick="fakepress('k')">k</td><td onclick="fakepress('k')">black text</td>
	<td onclick="fakepress('K')">black graphics</td><td onclick="fakepress('K')">K</td></tr>

<tr><td onclick="fakepress('d')">d</td><td onclick="fakepress('d')">normal height</td>
	<td onclick="fakepress('D')">double height</td><td onclick="fakepress('D')">D</td></tr>
<tr><td onclick="fakepress('f')">f</td><td onclick="fakepress('f')">steady</td>
	<td onclick="fakepress('F')">flash</td><td onclick="fakepress('F')">F</td></tr>
<tr><td onclick="fakepress('h')">h</td><td onclick="fakepress('h')">release graphics</td>
	<td onclick="fakepress('H')">hold graphics</td><td onclick="fakepress('H')">H</td></tr>
<tr><td onclick="fakepress('i')">i</td><td onclick="fakepress('i')">insert row</td>
	<td onclick="fakepress('I')">delete row</td><td onclick="fakepress('I')">I</td></tr>
<tr><td onclick="fakepress('n')">n</td><td onclick="fakepress('n')">black background</td>
	<td onclick="fakepress('N')">new background</td><td onclick="fakepress('N')">N</td></tr>
<tr><td onclick="fakepress('q')">q</td><td onclick="fakepress('q')">hide codes</td>
	<td onclick="fakepress('Q')">show codes</td><td onclick="fakepress('Q')">Q</td></tr>
<tr><td onclick="fakepress('s')">s</td><td onclick="fakepress('s')">contiguous graphics</td>
	<td onclick="fakepress('S')">separated graphics</td><td onclick="fakepress('S')">S</td></tr>
<tr><td onclick="fakepress('z')">z</td><td onclick="fakepress('z')">redraw screen</td>
	<td onclick="fakepress('Z')">clear screen</td><td onclick="fakepress('Z')">Z</td></tr>
<tr><td onclick="fakepress('[')">[</td><td onclick="fakepress('[')">narrower screen</td>
	<td onclick="fakepress(']')">wider screen</td><td onclick="fakepress(']')">]</td></tr>
<tr><td onclick="fakepress('o')">O</td><td onclick="fakepress('o')">conceal</td>
	<td onclick="fakepress('V')">toggle reveal</td><td onclick="fakepress('V')">V</td></tr>
<tr><td onclick="fakepress('u')">U</td><td onclick="fakepress('u')">duplicate row</td>
	<td onclick="fakepress('X')">toggle grid</td><td onclick="fakepress('X')">X</td></tr></tr>
<tr><td onclick="fakepress('e')">E</td><td onclick="fakepress('e')">export frame</td>
	<td onclick="fakepress('j')">insert block char.</td><td onclick="fakepress('j')">J</td></tr>
<tr><td>1-8</td><td>switch char. sets</td>
	<td onclick="fakepress('0')">hide status bar</td><td onclick="fakepress('0')">0</td></tr>
<tr><td onclick="fakepress('9')">9</td><td onclick="fakepress('9')">toggle metadata</td>
	<td onclick="fakepress('=')">trace image</td><td onclick="fakepress('=')">=</td></tr>

<tr class="newsection"><td colspan="4">Escape then &uarr;&larr;&rarr;&darr; to select then ...</td></tr>

<tr>
<td onclick="fakepress('x')">x</td><td onclick="fakepress('x')">... cut selection</td>
<td onclick="fakepress('v')">... paste</td><td onclick="fakepress('v')">v</td>
</tr>

<tr class="newsection"><td colspan="4">No escape required for:</td></tr>

<tr><td onclick="cursor_tab()">TAB</td><td onclick="cursor_tab()">insert space</td>
<td onclick="cursor_bs()">delete character</td><td onclick="cursor_bs()">BS</td></tr>

<tr><td colspan="2">QWASZXRCF/keypad</td><td colspan="2">subpixel twiddling</td></tr>

<tr class="newsection"><td colspan="4">
<a href="doc/handy-howto.pdf" target="_blank">how-to guide</a> 
&middot;
<a href="https://github.com/rawles/edit-tf/issues/new" target="_blank">report a bug</a>
&middot;
<a href="http://rawl.es/teletext/archive/" target="_blank">frame archive</a>
</td></tr>

<tr><td colspan="4">The frame's data is all in the address bar.<br/>To save or share, bookmark/email/etc the URL.</td></tr>

</table>
</div> 
<div id="b">
<div id="canvasframe">
<canvas id="frame"></canvas>
</div></div></div>

</body>
</html>
